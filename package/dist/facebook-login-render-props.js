!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.FacebookLogin=t(require("react")):e.FacebookLogin=t(e.react)}(self,(function(e){return(()=>{var t={703:(e,t,o)=>{"use strict";var s=o(414);function i(){}function n(){}n.resetWarningCache=i,e.exports=function(){function e(e,t,o,i,n,r){if(r!==s){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n,resetWarningCache:i};return o.PropTypes=o,o}},697:(e,t,o)=>{e.exports=o(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},156:t=>{"use strict";t.exports=e}},o={};function s(e){var i=o[e];if(void 0!==i)return i.exports;var n=o[e]={exports:{}};return t[e](n,n.exports,s),n.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{"use strict";s.r(i),s.d(i,{default:()=>p});var e=s(156),t=s.n(e),o=s(697),n=s.n(o);const r=(e,t)=>decodeURIComponent(e.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(t).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"));function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e},a.apply(this,arguments)}const c=()=>{let e=!1;try{e=!!(window.navigator&&window.navigator.standalone||navigator.userAgent.match("CriOS")||navigator.userAgent.match(/mobile/i))}catch(e){}return e};class d extends t().Component{static propTypes={isDisabled:n().bool,callback:n().func.isRequired,appId:n().string.isRequired,xfbml:n().bool,cookie:n().bool,authType:n().string,scope:n().string,state:n().string,responseType:n().string,returnScopes:n().bool,redirectUri:n().string,autoLoad:n().bool,disableMobileRedirect:n().bool,isMobile:n().bool,fields:n().string,version:n().string,language:n().string,onClick:n().func,onFailure:n().func,render:n().func.isRequired};static defaultProps={redirectUri:"undefined"!=typeof window?window.location.href:"/",scope:"public_profile,email",returnScopes:!1,xfbml:!1,cookie:!1,authType:"",fields:"name",version:"3.1",language:"en_US",disableMobileRedirect:!1,isMobile:c(),onFailure:null,state:"facebookdirect",responseType:"code"};state={isSdkLoaded:!1,isProcessing:!1};componentDidMount(){if(this._isMounted=!0,document.getElementById("facebook-jssdk"))return void this.sdkLoaded();this.setFbAsyncInit(),this.loadSdkAsynchronously();let e=document.getElementById("fb-root");e||(e=document.createElement("div"),e.id="fb-root",document.body.appendChild(e))}static getDerivedStateFromProps(e,t){return t.isSdkLoaded&&e.autoLoad&&!t.autoLoad?{signedIn:e.signedIn,autoLoad:e.autoLoad}:null}componentDidUpdate(e){this.state.isSdkLoaded&&this.state.autoLoad&&!e.autoLoad&&window.FB.getLoginStatus(this.checkLoginAfterRefresh)}componentWillUnmount(){this._isMounted=!1}setStateIfMounted(e){this._isMounted&&this.setState(e)}setFbAsyncInit(){const{appId:e,xfbml:t,cookie:o,version:s,autoLoad:i}=this.props;window.fbAsyncInit=()=>{window.FB.init({version:`v${s}`,appId:e,xfbml:t,cookie:o}),this.setStateIfMounted({isSdkLoaded:!0}),(i||this.isRedirectedFromFb())&&window.FB.getLoginStatus(this.checkLoginAfterRefresh)}}isRedirectedFromFb(){const e=window.location.search;return r(e,"state")===this.props.state&&(r(e,"code")||r(e,"granted_scopes"))}sdkLoaded(){this.setState({isSdkLoaded:!0})}loadSdkAsynchronously(){const{language:e}=this.props;((t,o,s)=>{const i=t.getElementsByTagName(o)[0],n=i;let r=i;t.getElementById(s)||(r=t.createElement(o),r.id=s,r.src=`https://connect.facebook.net/${e}/sdk.js`,n.parentNode.insertBefore(r,n))})(document,"script","facebook-jssdk")}responseApi=e=>{window.FB.api("/me",{locale:this.props.language,fields:this.props.fields},(t=>{a(t,e),this.props.callback(t)}))};checkLoginState=e=>{this.setStateIfMounted({isProcessing:!1}),e.authResponse?this.responseApi(e.authResponse):this.props.onFailure?this.props.onFailure({status:e.status}):this.props.callback({status:e.status})};checkLoginAfterRefresh=e=>{"connected"===e.status?this.checkLoginState(e):window.FB.login((e=>this.checkLoginState(e)),!0)};click=e=>{if(!this.state.isSdkLoaded||this.state.isProcessing||this.props.isDisabled)return;this.setState({isProcessing:!0});const{scope:t,appId:o,onClick:s,returnScopes:i,responseType:n,redirectUri:r,disableMobileRedirect:a,authType:c,state:d}=this.props;if("function"==typeof s&&(s(e),e.defaultPrevented))return void this.setState({isProcessing:!1});const p={client_id:o,redirect_uri:r,state:d,return_scopes:i,scope:t,response_type:n,auth_type:c};if(this.props.isMobile&&!a)window.location.href=`https://www.facebook.com/dialog/oauth${(e=>"?"+Object.keys(e).map((t=>`${t}=${encodeURIComponent(e[t])}`)).join("&"))(p)}`;else{if(!window.FB)return void(this.props.onFailure&&this.props.onFailure({status:"facebookNotLoaded"}));window.FB.getLoginStatus((e=>{"connected"===e.status?this.checkLoginState(e):window.FB.login(this.checkLoginState,{scope:t,return_scopes:i,auth_type:p.auth_type})}))}};render(){const{render:e}=this.props;if(!e)throw new Error("ReactFacebookLogin requires a render prop to render");const t={onClick:this.click,isDisabled:!!this.props.isDisabled,isProcessing:this.state.isProcessing,isSdkLoaded:this.state.isSdkLoaded};return this.props.render(t)}}const p=d})(),i})()}));